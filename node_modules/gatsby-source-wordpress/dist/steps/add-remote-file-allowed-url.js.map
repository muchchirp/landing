{"version":3,"file":"add-remote-file-allowed-url.js","names":["addRemoteFileAllowedUrl","actions","wpUrl","getStore","getState","remoteSchema","wordpressUrl","URL","pathname","nodePath","posix","join","href"],"sources":["../../src/steps/add-remote-file-allowed-url.ts"],"sourcesContent":["import nodePath from \"path\"\nimport { getStore } from \"~/store\"\n\nimport type { Step } from \"~/utils/run-steps\"\n\nexport const addRemoteFileAllowedUrl: Step = ({ actions }): void => {\n  if (typeof actions?.addRemoteFileAllowedUrl !== `function`) {\n    return\n  }\n\n  const { wpUrl } = getStore().getState().remoteSchema\n\n  if (!wpUrl) {\n    return\n  }\n\n  const wordpressUrl = new URL(wpUrl)\n  wordpressUrl.pathname = nodePath.posix.join(wordpressUrl.pathname, `*`)\n\n  actions.addRemoteFileAllowedUrl(wordpressUrl.href)\n}\n"],"mappings":";;;;;AAAA;AACA;AAIO,MAAMA,uBAA6B,GAAG,CAAC;EAAEC;AAAQ,CAAC,KAAW;EAClE,IAAI,QAAOA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAED,uBAAuB,MAAM,UAAS,EAAE;IAC1D;EACF;EAEA,MAAM;IAAEE;EAAM,CAAC,GAAG,IAAAC,eAAQ,GAAE,CAACC,QAAQ,EAAE,CAACC,YAAY;EAEpD,IAAI,CAACH,KAAK,EAAE;IACV;EACF;EAEA,MAAMI,YAAY,GAAG,IAAIC,GAAG,CAACL,KAAK,CAAC;EACnCI,YAAY,CAACE,QAAQ,GAAGC,aAAQ,CAACC,KAAK,CAACC,IAAI,CAACL,YAAY,CAACE,QAAQ,EAAG,GAAE,CAAC;EAEvEP,OAAO,CAACD,uBAAuB,CAACM,YAAY,CAACM,IAAI,CAAC;AACpD,CAAC;AAAA"}